<!doctype html>
<html lang="en">
  <head>
    <link rel="stylesheet" href="openlayers/theme/default/style.css" type="text/css">
    <style>
      .map {
        height: 400px;
        width: 100%;
      }
    </style>
    <script src="openLayers/OpenLayers.debug.js"></script>
    <!-- <script src="https://openlayers.org/en/v3.19.1/build/ol.js" type="text/javascript"></script>
    <script src="script/fly.js" type="text/javascript"></script> -->
    <title>OpenLayers</title>
  </head>
  <body>
    <div id="map" class="map"></div>
    <script type="text/javascript">
      var map = new OpenLayers.Map("map");

      var ol_wms = new OpenLayers.Layer.WMS(
          "OpenLayers WMS",
          "http://vmap0.tiles.osgeo.org/wms/vmap0",
          {layers: "basic"}
      );
      map.units = "km";
      map.addLayers([ol_wms]);
      map.addControl(new OpenLayers.Control.LayerSwitcher());
      map.zoomToMaxExtent();
      map.addControl(new OpenLayers.Control.ScaleLine());//比例尺
      map.events.register("zoomend",map,function(){  
                console.log(""+map.getResolution()*72*39.37007+",,"+map.units+OpenLayers.DOTS_PER_INCH); //比例尺
                console.log(""+map.getScale()/1000); //比例尺getScale屏幕上1米代表的地图单位
            });
      // map.zoomToScale(100000,true);
      // console.log(""+map.getScale()+",,"+map.getUnits()+OpenLayers.DOTS_PER_INCH); //
      //map.zoomToScale(1000,true);
      //console.log(""+map.getScale()+",,"+map.getUnits()+OpenLayers.DOTS_PER_INCH); //
    </script>
  </body>
</html>